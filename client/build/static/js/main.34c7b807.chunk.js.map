{"version":3,"sources":["components/AppContext.js","components/LeftNav.js","redux/actions/post.action.js","components/Utils.js","components/Post/NewPostForm.js","redux/actions/user.actions.js","components/Profile/FollowHandler.js","components/Post/LikeButton.js","components/Post/Delete.card.js","components/Post/EditDeleteComment.js","components/Post/CardComments.js","components/Post/Cards.js","components/Thread.js","components/log/SignInForm.js","components/log/SignUpForm.js","components/log/index.js","components/Trends.js","components/FriendsHint.js","pages/Home.js","components/Profile/UploadImg.js","components/Profile/ProfileUpdate.js","pages/Profil.js","pages/Trending.js","components/log/Logout.js","components/Navbar.js","components/Routes/index.js","App.js","reportWebVitals.js","redux/reducers/user.reducer.js","redux/actions/users.action.js","redux/reducers/users.reducer.js","redux/reducers/post.reducer.js","redux/reducers/allPost.reducer.js","redux/reducers/trending.reducer.js","redux/reducers/errors.reducer.js","redux/reducers/index.js","index.js"],"names":["UidContext","createContext","LeftNav","className","to","exact","activeClassName","src","alt","GET_POST","GET_ALL_POST","UPDATE_POST","DELETE_POST","GET_POST_ERRORS","LIKE_POST","UNLIKE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","getPost","count","dispatch","axios","get","process","then","res","array","data","slice","type","payload","catch","err","console","log","addPost","post","dateParser","num","timeformat","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","isEmpty","value","undefined","Object","keys","trim","length","NewPostForm","useState","isLoading","setIsloading","message","setMessage","postPicture","setPostPicture","video","setVideo","file","setFile","userData","useSelector","state","userReducer","errors","errorsReducer","useDispatch","handlePost","a","FormData","append","_id","cancelPost","alert","useEffect","findLink","split","i","includes","embed","replace","splice","join","handleVideo","following","followers","picture","name","id","placeholder","onChange","e","target","lentgh","pseudo","frameBorder","allow","allowFullScreen","title","accept","URL","createObjectURL","files","handlePicture","onClick","format","maxSize","GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","FollowHandler","idToFollow","isFollowed","setIsFollowed","followerId","idToUnFollow","patch","followUser","LikeButton","liked","setLiked","uid","useContext","likers","trigger","position","closeOnDocumentClick","postId","userId","DeleteCard","deleteQuote","delete","window","confirm","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","text","setText","handleDelete","commentId","deleteComment","commenterId","action","onSubmit","preventDefault","editComment","htmlFor","defaultValue","CardComments","usersData","usersReducer","comments","map","user","commenterPseudo","timestamp","addComment","Cards","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComment","setShowComment","posterId","createdAt","put","width","height","class","Thread","loadPost","setLoadPost","posts","postReducer","setCount","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","SignInForm","email","password","loginData","setLoginData","handleChange","emailError","querySelector","passwordError","method","url","withCredentials","innerHTML","location","SignUpForm","formSubmit","setFormSubmit","confirm_password","registerData","setRegisterData","handleChangeData","handleRegister","terms","getElementById","pseudoError","passwordConfirmError","termsError","textContent","checked","href","rel","Log","signIn","signUp","signUpModal","setSignUpModal","signInModal","setSignInModal","handleModals","Trends","allPostsReducer","trendList","trendingReducer","sortedArray","sort","b","getTrends","FriendsHint","playOnce","setPlayOnce","friendsHint","setFriendsHint","push","Math","random","notFiendList","Home","signin","signup","UploadImg","setfile","uploadPicture","ProfileUpdate","bio","setBio","updateBioArea","setUpdateBioArea","followingPopup","setFollowingPopup","followersPopup","setFollowersPopup","error","updateBio","Profil","Trending","Logout","logout","key","cookie","remove","expires","Navbar","index","path","component","Profile","App","setUid","fetchToken","getUser","Provider","Routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","GET_USERS","postErrors","combineReducers","filter","userErrors","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.34c7b807.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const UidContext = createContext();\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst LeftNav = () => {\r\n  return (\r\n    <div className=\"left-nav-container\">\r\n      <div className=\"icons\">\r\n        <div className=\"icons-bis\">\r\n          <NavLink to=\"/\" exact activeClassName=\"active-left-nav\">\r\n            <img src=\"./img/icons/home.svg\" alt=\"home\" />\r\n          </NavLink>\r\n          <br />\r\n          <NavLink to=\"/trending\" exact activeClassName=\"active-left-nav\">\r\n            <img src=\"./img/icons/rocket.svg\" alt=\"trending\" />\r\n          </NavLink>\r\n          <br />\r\n          <NavLink to=\"/profil\" exact activeClassName=\"active-left-nav\">\r\n            <img src=\"./img/icons/user.svg\" alt=\"profil\" />\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeftNav;\r\n","import axios from \"axios\";\r\n\r\n//Posts\r\nexport const GET_POST = \"GET_POST\";\r\nexport const GET_ALL_POST = \"GET_ALL_POST\";\r\nexport const ADD_POST = \"ADD_POST\";\r\nexport const UPDATE_POST = \"UPDATE_POST\";\r\nexport const DELETE_POST = \"DELETE_POST\";\r\nexport const GET_POST_ERRORS = \"GET_POST_ERRORS\";\r\n\r\n//Likes-Unlikes\r\nexport const LIKE_POST = \"LIKE_POST\";\r\nexport const UNLIKE_POST = \"UNLIKE_POST\";\r\n\r\n//commentaires\r\nexport const ADD_COMMENT = \"ADD_COMMENT\";\r\nexport const EDIT_COMMENT = \"EDIT_COMMENT\";\r\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\r\n\r\n//Trends\r\nexport const GET_TRENDS = \"GET_TRENDS\";\r\n\r\nexport const getPost = (count) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`${process.env.REACT_APP_API_URL}/api/post`)\r\n      .then((res) => {\r\n        const array = res.data.slice(0, count);\r\n        dispatch({ type: GET_POST, payload: array });\r\n        dispatch({ type: GET_ALL_POST, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const likePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(`${process.env.REACT_APP_API_URL}/api/post/like-post/${postId}`, {\r\n        id: userId,\r\n      })\r\n      .then((res) => {\r\n        dispatch({ type: LIKE_POST, payload: { postId, userId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const unLikePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(\r\n        `${process.env.REACT_APP_API_URL}/api/post/unlike-post/${postId}`,\r\n        {\r\n          id: userId,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch({ type: UNLIKE_POST, payload: { postId, userId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n//Ajouter un Post\r\nexport const addPost = (data) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .post(`${process.env.REACT_APP_API_URL}/api/post`, data)\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n//Modifier un Post\r\nexport const updatePost = (postId, message) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .put(`${process.env.REACT_APP_API_URL}/api/post/${postId}`, { message })\r\n      .then((res) => {\r\n        dispatch({ type: UPDATE_POST, payload: { postId, message } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n//supprimer un post\r\nexport const deletePost = (postId) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .delete(`${process.env.REACT_APP_API_URL}/api/post/${postId}`)\r\n      .then((res) => {\r\n        dispatch({ type: DELETE_POST, payload: { postId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n//Ajout commentaire\r\nexport const addComment = (postId, commenterId, commenterPseudo, text) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(\r\n        `${process.env.REACT_APP_API_URL}/api/post/comments-post/${postId}`,\r\n        {\r\n          commenterId,\r\n          commenterPseudo,\r\n          text,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch({ type: ADD_COMMENT, payload: { postId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n//Editer un commentaire\r\nexport const editComment = (postId, commentId, text) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(\r\n        `${process.env.REACT_APP_API_URL}/api/post/edit-comments-post/${postId}`,\r\n        {\r\n          commentId,\r\n          text,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch({\r\n          type: EDIT_COMMENT,\r\n          payload: { postId, commentId, text },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n//Supprimer un commentaire\r\nexport const deleteComment = (postId, commentId) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(\r\n        `${process.env.REACT_APP_API_URL}/api/post/delete-comments-post/${postId}`,\r\n        {\r\n          commentId,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch({\r\n          type: DELETE_COMMENT,\r\n          payload: { postId, commentId },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\n//Trends\r\n\r\nexport const getTrends = (sortedArray) => {\r\n  return (dispatch) => {\r\n    dispatch({ type: GET_TRENDS, payload: sortedArray });\r\n  };\r\n};\r\n","export const dateParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  };\r\n\r\n  let timeformat = Date.parse(num);\r\n  let date = new Date(timeformat).toLocaleDateString(\"fr-FR\", options);\r\n  return date.toString();\r\n};\r\n\r\nexport const timestampParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  };\r\n\r\n  let date = new Date(num).toLocaleDateString(\"fr-FR\", options);\r\n  return date.toString();\r\n};\r\n\r\nexport const isEmpty = (value) => {\r\n  return (\r\n    value === undefined ||\r\n    value === null ||\r\n    (typeof value === \"object\" && Object.keys(value) === 0) ||\r\n    (typeof value === \"string\" && value.trim().length === 0)\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { addPost, getPost } from \"../../redux/actions/post.action\";\r\nimport { isEmpty, dateParser } from \"../Utils\";\r\n\r\nfunction NewPostForm() {\r\n  const [isLoading, setIsloading] = useState(true);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [postPicture, setPostPicture] = useState(null);\r\n  const [video, setVideo] = useState(\"\");\r\n  const [file, setFile] = useState(\"\");\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const errors = useSelector((state) => state.errorsReducer);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //Preview Image\r\n  const handlePicture = (e) => {\r\n    setPostPicture(URL.createObjectURL(e.target.files[0]));\r\n    setFile(e.target.files[0]);\r\n    setVideo(\"\");\r\n  };\r\n\r\n  //soumisson des donnée dans la bdd\r\n  const handlePost = async () => {\r\n    if (message || postPicture || video) {\r\n      const data = new FormData();\r\n      data.append(\"posterId\", userData._id);\r\n      data.append(\"message\", message);\r\n      data.append(\"video\", video);\r\n      if (file) data.append(\"file\", file);\r\n\r\n      await dispatch(addPost(data));\r\n      dispatch(getPost());\r\n      cancelPost();\r\n    } else {\r\n      alert(\"Veuillez entrez un message\");\r\n    }\r\n  };\r\n  const cancelPost = () => {\r\n    setMessage(\"\");\r\n    setVideo(\"\");\r\n    setPostPicture(\"\");\r\n    setFile(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(userData)) setIsloading(false);\r\n    const handleVideo = () => {\r\n      let findLink = message.split(\" \");\r\n      for (let i = 0; i < findLink.length; i++) {\r\n        if (\r\n          findLink[i].includes(\"https://www.youtube\") ||\r\n          findLink[i].includes(\"https://youtube\")\r\n        ) {\r\n          let embed = findLink[i].replace(\"watch?v=\", \"embed/\");\r\n          setVideo(embed.split(\"&\")[0]);\r\n          findLink.splice(i, 1);\r\n          setMessage(findLink.join(\" \"));\r\n          setPostPicture(\"\");\r\n        }\r\n      }\r\n    };\r\n\r\n    handleVideo();\r\n  }, [userData, message, video]);\r\n\r\n  return (\r\n    <div className=\"post-container\">\r\n      {isLoading ? (\r\n        <i className=\"fas fa-spinner fa-pulse\"></i>\r\n      ) : (\r\n        <>\r\n          <div className=\"data\">\r\n            <p>\r\n              <span>\r\n                {userData.following ? userData.following.length : null}{\" \"}\r\n              </span>\r\n\r\n              <span>\r\n                Abonnement\r\n                {userData.following && userData.following.length > 1\r\n                  ? \"s\"\r\n                  : null}{\" \"}\r\n              </span>\r\n            </p>\r\n            <p>\r\n              <span>\r\n                {userData.followers ? userData.followers.length : null}{\" \"}\r\n              </span>\r\n              <span>\r\n                Abonné\r\n                {userData.followers && userData.followers.length > 1\r\n                  ? \"s\"\r\n                  : null}{\" \"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <NavLink exact to=\"/profil\">\r\n            <div className=\"user-info\">\r\n              <img src={userData.picture} alt=\"user-pict\" />\r\n            </div>\r\n          </NavLink>\r\n          <div className=\"post-form\">\r\n            <textarea\r\n              name=\"message\"\r\n              id=\"message\"\r\n              placeholder=\"Quoi de neuf ?\"\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              value={message}\r\n            />\r\n            {message || postPicture || video.lentgh > 20 ? (\r\n              <li className=\"card-container\">\r\n                <div className=\"card-left\">\r\n                  <img src={userData.picture} alt=\"postUser-pic\" />\r\n                </div>\r\n                <div className=\"card-right\">\r\n                  <div className=\"card-header\">\r\n                    <div className=\"pseudo\">\r\n                      <h3>{userData.pseudo}</h3>\r\n                    </div>\r\n                    <span>{dateParser(new Date())}</span>\r\n                  </div>\r\n                  <div className=\"content\">\r\n                    <p>{message}</p>\r\n                    {postPicture && <img src={postPicture} alt=\"post-pic\" />}\r\n                    {video && (\r\n                      <iframe\r\n                        src={video}\r\n                        frameBorder=\"0\"\r\n                        allow=\"accelerometer; clipboard-write; encrypted-media;gyroscope;picture-in-picture\"\r\n                        allowFullScreen\r\n                        title={video}\r\n                      ></iframe>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ) : null}\r\n            <div className=\"footer-form\">\r\n              <div className=\"icon\">\r\n                {isEmpty(video) && (\r\n                  <>\r\n                    <img src=\"./img/icons/picture.svg\" alt=\"uplod-icon\" />\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"file-upload\"\r\n                      name=\"file\"\r\n                      accept=\".png,.jpg,.jpeg\"\r\n                      onChange={(e) => handlePicture(e)}\r\n                    />\r\n                  </>\r\n                )}\r\n                {video && (\r\n                  <button onClick={() => setVideo(\"\")}>\r\n                    Supprimer la video\r\n                  </button>\r\n                )}\r\n              </div>\r\n              {!isEmpty(errors.format && <p>{errors.format}</p>)}\r\n              {!isEmpty(errors.maxSize && <p>{errors.maxSize}</p>)}\r\n              <div className=\"btn-send\">\r\n                {message || postPicture || video.length > 20 ? (\r\n                  <button className=\"cancel\" onClick={cancelPost}>\r\n                    Annuler message\r\n                  </button>\r\n                ) : null}\r\n                <button className=\"send\" onClick={handlePost}>\r\n                  Envoyer\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewPostForm;\r\n","import axios from \"axios\";\r\n\r\nexport const GET_USER = \"GET_USER\";\r\nexport const UPLOAD_PICTURE = \"UPLOAD_PICTURE\";\r\nexport const UPDATE_BIO = \"UPDATE_BIO\";\r\nexport const FOLLOW_USER = \"FOLLOW_USER\";\r\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\";\r\n\r\nexport const getUser = (uid) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`${process.env.REACT_APP_API_URL}/api/user/${uid}`)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: GET_USER,\r\n          payload: res.data,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const uploadPicture = (data, id) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .post(`${process.env.REACT_APP_API_URL}/api/user/upload`, data)\r\n      .then((res) => {\r\n        return axios\r\n          .get(`${process.env.REACT_APP_API_URL}/api/user/${id}`)\r\n          .then((res) => {\r\n            dispatch({ type: UPLOAD_PICTURE, payload: res.data.picture });\r\n          });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const updateBio = (userId, bio) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .put(`${process.env.REACT_APP_API_URL}/api/user/${userId}`, { bio })\r\n      .then((res) =>\r\n        dispatch({\r\n          type: UPDATE_BIO,\r\n          payload: bio,\r\n        })\r\n      )\r\n      .catch((error) => console.log(error));\r\n  };\r\n};\r\n\r\nexport const followUser = (followerId, idToFollow) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(`${process.env.REACT_APP_API_URL}/api/user/follow/${followerId}`, {\r\n        idToFollow,\r\n      })\r\n      .then((res) =>\r\n        dispatch({\r\n          type: FOLLOW_USER,\r\n          payload: { idToFollow },\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const unfollowUser = (followerId, idToUnFollow) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .patch(\r\n        `${process.env.REACT_APP_API_URL}/api/user/unfollow/${followerId}`,\r\n        {\r\n          idToUnFollow,\r\n        }\r\n      )\r\n      .then((res) =>\r\n        dispatch({\r\n          type: UNFOLLOW_USER,\r\n          payload: { idToUnFollow },\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { followUser, unfollowUser } from \"../../redux/actions/user.actions\";\r\nimport { isEmpty } from \"../Utils\";\r\n\r\nconst FollowHandler = ({ idToFollow, type }) => {\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const [isFollowed, setIsFollowed] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFollow = () => {\r\n    dispatch(followUser(userData._id, idToFollow));\r\n    setIsFollowed(true);\r\n  };\r\n\r\n  const handleUnFollow = () => {\r\n    dispatch(unfollowUser(userData._id, idToFollow));\r\n    setIsFollowed(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(userData.following)) {\r\n      if (userData.following.includes(idToFollow)) {\r\n        setIsFollowed(true);\r\n      } else setIsFollowed(false);\r\n    }\r\n  }, [userData, idToFollow]);\r\n\r\n  return (\r\n    <>\r\n      {isFollowed && !isEmpty(userData) && (\r\n        <span onClick={handleUnFollow}>\r\n          {type === \"suggestion\" && (\r\n            <button className=\"unfollow-btn\">Abonné</button>\r\n          )}\r\n          {type === \"card\" && (\r\n            <img src=\"./img/icons/checked.svg\" alt=\"follow-icon-checked\" />\r\n          )}\r\n        </span>\r\n      )}\r\n      {isFollowed === false && !isEmpty(userData) && (\r\n        <span onClick={handleFollow}>\r\n          {type === \"suggestion\" && (\r\n            <button className=\"follow-btn\">Suivre</button>\r\n          )}\r\n          {type === \"card\" && (\r\n            <img src=\"./img/icons/check.svg\" alt=\"follow-icon-check\" />\r\n          )}\r\n        </span>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FollowHandler;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { UidContext } from \"../AppContext\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { likePost, unLikePost } from \"../../redux/actions/post.action\";\r\n\r\nconst LikeButton = ({ post }) => {\r\n  const [liked, setLiked] = useState(false);\r\n  const uid = useContext(UidContext);\r\n  const dispatch = useDispatch();\r\n\r\n  const like = () => {\r\n    dispatch(likePost(post._id, uid));\r\n    setLiked(true);\r\n    console.log(uid);\r\n  };\r\n\r\n  const unlike = () => {\r\n    dispatch(unLikePost(post._id, uid));\r\n    setLiked(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (post.likers.includes(uid)) {\r\n      setLiked(true);\r\n    } else setLiked(false);\r\n  }, [uid, post.likers, liked]);\r\n\r\n  return (\r\n    <div className=\"like-container\">\r\n      {uid === null && (\r\n        <Popup\r\n          trigger={<img src=\"./img/icons/heart.svg\" alt=\"like\" />}\r\n          position={[\"bottom center\", \"bottom right\", \"bottom left\"]}\r\n          closeOnDocumentClick\r\n        >\r\n          {\" \"}\r\n          <div className=\"text-black\">\r\n            Connectez-vous pour aimer ce post !\r\n          </div>{\" \"}\r\n        </Popup>\r\n      )}\r\n      {uid && liked && (\r\n        <img src=\"./img/icons/heart-filled.svg\" alt=\"like\" onClick={unlike} />\r\n      )}\r\n      {uid && liked === false && (\r\n        <img src=\"./img/icons/heart.svg\" alt=\"unlike-field\" onClick={like} />\r\n      )}\r\n      <span>{post.likers.length}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deletePost } from \"../../redux/actions/post.action\";\r\n\r\nconst DeleteCard = ({ id }) => {\r\n  const dispatch = useDispatch();\r\n  const deleteQuote = (e) => {\r\n    dispatch(deletePost(id));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        if (window.confirm(\"Voulez-vous vraiment supprimé ce post\")) {\r\n          {\r\n            deleteQuote();\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      <img src=\"./img/icons/trash.svg\" alt=\"trash\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteCard;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  deleteComment,\r\n  deletePost,\r\n  editComment,\r\n} from \"../../redux/actions/post.action\";\r\nimport { UidContext } from \"../AppContext\";\r\n\r\nconst EditDeleteComment = ({ comment, postId }) => {\r\n  const [isAuthor, setIsAuthor] = useState(false);\r\n  const [edit, setEdit] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const uid = useContext(UidContext);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleEdit = (e) => {\r\n    e.preventDefault();\r\n    if (text) {\r\n      dispatch(editComment(postId, comment._id, text));\r\n      setText(\"\");\r\n      setEdit(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    dispatch(deleteComment(postId, comment._id));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkAuthor = () => {\r\n      if (uid === comment.commenterId) {\r\n        setIsAuthor(true);\r\n      }\r\n    };\r\n    checkAuthor();\r\n  }, [uid, comment.commenterId]);\r\n\r\n  return (\r\n    <div className=\"edit-comment\">\r\n      {isAuthor && edit === false && (\r\n        <span onClick={() => setEdit(!edit)}>\r\n          {\" \"}\r\n          <img src=\"./img/icons/edit.svg\" alt=\"edit\" />{\" \"}\r\n        </span>\r\n      )}\r\n      {isAuthor && edit && (\r\n        <form action=\"\" onSubmit={handleEdit} className=\"edit-comment-form\">\r\n          <label htmlFor=\"text\" onClick={() => setEdit(!edit)}>\r\n            Editer\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setText(e.target.value)}\r\n            defaultValue={comment.text}\r\n          />\r\n          <br />\r\n\r\n          <div className=\"btn\">\r\n            <span\r\n              onClick={() => {\r\n                if (window.confirm(\"Voulez-vous supprimer ce commentaire\")) {\r\n                  handleDelete();\r\n                }\r\n              }}\r\n            >\r\n              <img src=\"./img/icons/trash.svg\" alt=\"trash\" />\r\n            </span>\r\n            <input type=\"submit\" value=\"Valider les modification\" />\r\n          </div>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditDeleteComment;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addComment, getPost } from \"../../redux/actions/post.action\";\r\nimport FollowHandler from \"../Profile/FollowHandler\";\r\nimport { isEmpty, timestampParser } from \"../Utils\";\r\nimport EditDeleteComment from \"./EditDeleteComment\";\r\n\r\nconst CardComments = ({ post }) => {\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const dispatch = useDispatch();\r\n  const [text, setText] = useState();\r\n\r\n  const handleComment = (e) => {\r\n    e.preventDefault();\r\n    if (text) {\r\n      dispatch(addComment(post._id, userData._id, userData.pseudo, text))\r\n        .then(() => dispatch(getPost()))\r\n        .then(() => setText(\"\"));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"comments-container\">\r\n      {post.comments.map((comment) => {\r\n        return (\r\n          <div\r\n            className={\r\n              comment.commenterId === userData._id\r\n                ? \"comment-container client\"\r\n                : \"comment-container\"\r\n            }\r\n            key={comment._id}\r\n          >\r\n            <div className=\"left-part\">\r\n              <img\r\n                src={\r\n                  !isEmpty(usersData[0]) &&\r\n                  usersData\r\n                    .map((user) => {\r\n                      if (user._id === comment.commenterId) return user.picture;\r\n                      else return null;\r\n                    })\r\n                    .join(\"\")\r\n                }\r\n                alt=\"poster_pic\"\r\n              />\r\n            </div>\r\n            <div className=\"right-part\">\r\n              <div className=\"comment-header\">\r\n                <div className=\"pseudo\">\r\n                  <h3>{comment.commenterPseudo}</h3>\r\n                  {comment.commenterId !== userData._id && (\r\n                    <FollowHandler\r\n                      idToFollow={comment.commenterId}\r\n                      type=\"card\"\r\n                    />\r\n                  )}\r\n                </div>\r\n                <span>{timestampParser(comment.timestamp)}</span>\r\n              </div>\r\n              <p>{comment.text}</p>\r\n\r\n              <EditDeleteComment comment={comment} postId={post._id} />\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      {userData._id && (\r\n        <form action=\"\" onSubmit={handleComment} className=\"comment-form\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"text\"\r\n            onChange={(e) => setText(e.target.value)}\r\n            value={text}\r\n            placeholder=\"Laisser un commentaire\"\r\n          />\r\n          <br />\r\n          <input type=\"submit\" value=\"Envoyer\" />\r\n          <br />\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardComments;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { dateParser, isEmpty } from \"../Utils\";\r\nimport FollowHandler from \"../Profile/FollowHandler\";\r\nimport LikeButton from \"./LikeButton\";\r\nimport { getPost, updatePost } from \"../../redux/actions/post.action\";\r\nimport DeleteCard from \"./Delete.card\";\r\nimport CardComments from \"./CardComments\";\r\n\r\nconst Cards = ({ post }) => {\r\n  const [isLoading, setIsloading] = useState(true);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const [isUpdated, setIsUpdated] = useState(false);\r\n  const [textUpdate, setTextUpdate] = useState(\"\");\r\n  const [showComment, setShowComment] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    !isEmpty(usersData[0]) && setIsloading(false);\r\n  }, [usersData]);\r\n\r\n  const updateItem = (e) => {\r\n    if (textUpdate) {\r\n      dispatch(updatePost(post._id, textUpdate));\r\n    }\r\n    setIsUpdated(false);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card-container\" key={post._id}>\r\n      {isLoading ? (\r\n        <i className=\"fas fa-spinner fa-spin\"></i>\r\n      ) : (\r\n        <>\r\n          <div className=\"card-left\">\r\n            <img\r\n              src={\r\n                !isEmpty(usersData[0]) &&\r\n                usersData\r\n                  .map((user) => {\r\n                    if (user._id === post.posterId) return user.picture;\r\n                    else return null;\r\n                  })\r\n                  .join(\"\")\r\n              }\r\n              alt=\"user_poster_pic\"\r\n            />\r\n          </div>\r\n          <div className=\"card-right\">\r\n            <div className=\"card-header\">\r\n              <div className=\"pseudo\">\r\n                <h3>\r\n                  {!isEmpty(usersData[0]) &&\r\n                    usersData.map((user) => {\r\n                      if (user._id === post.posterId) return user.pseudo;\r\n                      else return null;\r\n                    })}\r\n                </h3>\r\n                {post.posterId !== userData._id && (\r\n                  <FollowHandler idToFollow={post.posterId} type={\"card\"} />\r\n                )}\r\n              </div>\r\n              <span>{dateParser(post.createdAt)}</span>\r\n            </div>\r\n            {isUpdated === false && <p>{post.message}</p>}\r\n            {isUpdated && (\r\n              <div className=\"update-post\">\r\n                <textarea\r\n                  defaultValue={post.message}\r\n                  onChange={(e) => setTextUpdate(e.target.value)}\r\n                />\r\n                <div className=\"button-container\">\r\n                  <button className=\"btn\" onClick={updateItem}>\r\n                    Valider modifications\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {post.picture && (\r\n              <img src={post.picture} alt=\"post-pic\" className=\"card-pic\" />\r\n            )}\r\n            {post.video && (\r\n              <iframe\r\n                width=\"500\"\r\n                height=\"300\"\r\n                src={post.video}\r\n                frameBorder=\"0\"\r\n                allow=\"accelerometer; clipboard-write; encrypted-media;gyroscope;picture-in-picture\"\r\n                allowFullScreen\r\n                title={post.video}\r\n              ></iframe>\r\n            )}\r\n            {userData._id === post.posterId && (\r\n              <div className=\"button-container\">\r\n                <div\r\n                  onClick={() => {\r\n                    setIsUpdated(!isUpdated);\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  <img src=\"./img/icons/edit.svg\" alt=\"edit\" />{\" \"}\r\n                </div>\r\n                <DeleteCard id={post._id} />\r\n              </div>\r\n            )}\r\n            <div className=\"card-footer\">\r\n              <div className=\"comment-icon\">\r\n                <img\r\n                  src=\"./img/icons/message1.svg\"\r\n                  alt=\"comment\"\r\n                  onClick={() => setShowComment(!showComment)}\r\n                />\r\n                <i class=\"fal fa-comment-alt-lines\"></i>\r\n                <span>{post.comments.length}</span>\r\n              </div>\r\n              <LikeButton post={post} />\r\n              <img src=\"./img/icons/share.svg\" alt=\"share\" />\r\n            </div>\r\n            {showComment && <CardComments post={post} />}\r\n          </div>\r\n        </>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Cards;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPost } from \"../redux/actions/post.action\";\r\nimport Cards from \"./Post/Cards\";\r\nimport { isEmpty } from \"./Utils\";\r\n\r\nconst Thread = () => {\r\n  const [loadPost, setLoadPost] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const posts = useSelector((state) => state.postReducer);\r\n  const [count, setCount] = useState(5);\r\n\r\n  const loadMore = () => {\r\n    if (\r\n      window.innerHeight + document.documentElement.scrollTop + 1 >\r\n      document.scrollingElement.scrollHeight\r\n    ) {\r\n      setLoadPost(true);\r\n      setCount(count + 5);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loadPost) {\r\n      dispatch(getPost(count));\r\n      setLoadPost(false);\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", loadMore);\r\n    return () => window.removeEventListener(\"scroll\", loadMore);\r\n  }, [loadPost, dispatch]);\r\n\r\n  return (\r\n    <div className=\"thread-container\">\r\n      <ul>\r\n        {!isEmpty(posts[0]) &&\r\n          posts.map((post) => {\r\n            return <Cards post={post} key={post._id} />;\r\n          })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Thread;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst SignInForm = () => {\r\n  const [loginData, setLoginData] = useState({ email: \"\", password: \"\" });\r\n\r\n  const handleChange = (e) => {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n\r\n    setLoginData({ ...loginData, [name]: value });\r\n  };\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    const emailError = document.querySelector(\".email.error\");\r\n    const passwordError = document.querySelector(\".password.error\");\r\n\r\n    axios({\r\n      method: \"POST\",\r\n      url: `${process.env.REACT_APP_API_URL}/api/user/login`,\r\n      withCredentials: true,\r\n      data: {\r\n        email: loginData.email,\r\n        password: loginData.password,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          emailError.innerHTML = res.data.errors.email;\r\n          passwordError.innerHTML = res.data.errors.password;\r\n        } else {\r\n          window.location = \"/\";\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form action=\"\" onSubmit={handleLogin} id=\"sign-up-form\">\r\n      <label htmlFor=\"email\">Email</label>\r\n      <br />\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        id=\"email\"\r\n        value={loginData.email}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"email error\"></div>\r\n      <br />\r\n      <label htmlFor=\"password\">Mot de passe</label>\r\n      <br />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        id=\"password\"\r\n        value={loginData.password}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"password error\"></div>\r\n      <br />\r\n      <input type=\"submit\" value=\"se connecter\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SignInForm;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport SignInForm from \"./SignInForm\";\r\n\r\nconst SignUpForm = () => {\r\n  const [formSubmit, setFormSubmit] = useState(false);\r\n\r\n  const [registerData, setRegisterData] = useState({\r\n    pseudo: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirm_password: \"\",\r\n  });\r\n\r\n  const handleChangeData = (e) => {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n\r\n    setRegisterData({\r\n      ...registerData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    const terms = document.getElementById(\"terms\");\r\n    const pseudoError = document.querySelector(\".pseudo.error\");\r\n    const emailError = document.querySelector(\".email.error\");\r\n    const passwordError = document.querySelector(\".password.error\");\r\n    const passwordConfirmError = document.querySelector(\r\n      \".confirm-password.error\"\r\n    );\r\n    const termsError = document.querySelector(\".terms.error\");\r\n\r\n    pseudoError.textContent = null;\r\n    emailError.textContent = null;\r\n    passwordError.textContent = null;\r\n    passwordConfirmError.textContent = null;\r\n    termsError.textContent = null;\r\n\r\n    if (\r\n      registerData.password !== registerData.confirm_password ||\r\n      !terms.checked\r\n    ) {\r\n      if (registerData.password !== registerData.confirm_password)\r\n        passwordConfirmError.textContent =\r\n          \"Les mots de passe ne correspondent pas\";\r\n      if (!terms.checked)\r\n        termsError.textContent = \"Veuillez valider les conditions générales.\";\r\n    } else {\r\n      await axios({\r\n        method: \"POST\",\r\n        url: `${process.env.REACT_APP_API_URL}/api/user/register`,\r\n        data: {\r\n          pseudo: registerData.pseudo,\r\n          email: registerData.email,\r\n          password: registerData.password,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.errors) {\r\n            pseudoError.textContent = res.data.errors.pseudo;\r\n            emailError.textContent = res.data.errors.email;\r\n            passwordError.textContent = res.data.errors.password;\r\n          } else {\r\n            setFormSubmit(true);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {formSubmit ? (\r\n        <>\r\n          <SignInForm /> <span></span>\r\n          <h4 className=\"success\">\r\n            Enregistrement Réussi, veuillez vous connecter\r\n          </h4>{\" \"}\r\n        </>\r\n      ) : (\r\n        <form action=\"\" onSubmit={handleRegister} id=\"sign-up-form\">\r\n          <label htmlFor=\"pseudo\">Pseudo</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"pseudo\"\r\n            id=\"pseudo\"\r\n            onChange={handleChangeData}\r\n            value={registerData.pseudo}\r\n          />\r\n          <div className=\"pseudo error\"></div>\r\n          <br />\r\n          <label htmlFor=\"email\">Email</label>\r\n          <br />\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            onChange={handleChangeData}\r\n            value={registerData.email}\r\n          />\r\n          <div className=\"email error\"></div>\r\n          <br />\r\n          <label htmlFor=\"password\">Mot de passe</label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            onChange={handleChangeData}\r\n            value={registerData.password}\r\n          />\r\n          <div className=\"password error\"></div>\r\n          <br />\r\n          <label htmlFor=\"confirm-password\">Confirmer mot de passen</label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirm_password\"\r\n            id=\"confirm-password\"\r\n            onChange={handleChangeData}\r\n            value={registerData.confirm_password}\r\n          />\r\n          <div className=\"confirm-password error\"></div>\r\n          <br />\r\n          <input type=\"checkbox\" name=\"terms\" id=\"terms\" />\r\n          <label htmlFor=\"terms\">\r\n            J'accepte les{\" \"}\r\n            <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              conditions générales\r\n            </a>\r\n          </label>\r\n          <br />\r\n          <div className=\"terms error\"></div>\r\n          <br />\r\n          <input type=\"submit\" value=\"Valider l'inscription\" />\r\n        </form>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React, { useState } from \"react\";\r\nimport SignInForm from \"./SignInForm\";\r\nimport SignUpForm from \"./SignUpForm\";\r\n\r\nconst Log = ({ signIn, signUp }) => {\r\n  const [signUpModal, setSignUpModal] = useState(signUp);\r\n  const [signInModal, setSignInModal] = useState(signIn);\r\n\r\n  const handleModals = (e) => {\r\n    if (e.target.id === \"register\") {\r\n      setSignInModal(false);\r\n      setSignUpModal(true);\r\n    } else if (e.target.id === \"login\") {\r\n      setSignUpModal(false);\r\n      setSignInModal(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"connection-form\">\r\n      <div className=\"form-container\">\r\n        <ul>\r\n          <li\r\n            onClick={handleModals}\r\n            id=\"register\"\r\n            className={signUpModal ? \"active-btn\" : null}\r\n          >\r\n            S'inscrire\r\n          </li>\r\n          <li\r\n            onClick={handleModals}\r\n            id=\"login\"\r\n            className={signInModal ? \"active-btn\" : null}\r\n          >\r\n            Se connecter\r\n          </li>\r\n        </ul>\r\n        {signUpModal && <SignUpForm />}\r\n        {signInModal && <SignInForm />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Log;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getTrends } from \"../redux/actions/post.action\";\r\nimport { isEmpty } from \"./Utils\";\r\n\r\nconst Trends = () => {\r\n  const posts = useSelector((state) => state.allPostsReducer);\r\n  const trendList = useSelector((state) => state.trendingReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(posts[0])) {\r\n      const postArray = Object.keys(posts).map((i) => posts[i]);\r\n      let sortedArray = postArray.sort((a, b) => {\r\n        return b.likers.length - a.likers.length;\r\n      });\r\n      sortedArray.length = 3;\r\n      dispatch(getTrends(sortedArray));\r\n    }\r\n  }, [posts, dispatch]);\r\n\r\n  return (\r\n    <div className=\"trending-container\">\r\n      <h4>Trending</h4>\r\n      <NavLink exact to=\"/trending\">\r\n        <ul>\r\n          {trendList.length &&\r\n            trendList.map((post) => {\r\n              return (\r\n                <li key={post._id}>\r\n                  <div>\r\n                    {post.picture && (\r\n                      <img src={post.picture} alt=\"post-trend-pic\" />\r\n                    )}\r\n                    {post.video && (\r\n                      <iframe\r\n                        src={post.video}\r\n                        frameBorder=\"0\"\r\n                        allow=\"accelerometer; clipboard-write; encrypted-media;gyroscope;picture-in-picture\"\r\n                        allowFullScreen\r\n                        title={post._id}\r\n                      ></iframe>\r\n                    )}\r\n                    {isEmpty(post.picture) && isEmpty(post.video) && (\r\n                      <img\r\n                        src={\r\n                          usersData[0] &&\r\n                          usersData\r\n                            .map((user) => {\r\n                              if (user._id === post.posterId) {\r\n                                return user.picture;\r\n                              } else return null;\r\n                            })\r\n                            .join(\"\")\r\n                        }\r\n                        alt=\"profil-pic-trend\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"trend-content\">\r\n                    <p>{post.message}</p>\r\n                    <span>Lire</span>\r\n                  </div>\r\n                </li>\r\n              );\r\n            })}\r\n        </ul>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trends;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FollowHandler from \"./Profile/FollowHandler\";\r\nimport { isEmpty } from \"./Utils\";\r\n\r\nconst FriendsHint = () => {\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const dispatch = useDispatch();\r\n\r\n  const [isLoading, setIsloading] = useState(true);\r\n  const [playOnce, setPlayOnce] = useState(true);\r\n  const [friendsHint, setFriendsHint] = useState([]);\r\n\r\n  const notFiendList = () => {\r\n    let array = [];\r\n    usersData.map((user) => {\r\n      if (user._id !== userData._id && !user.followers.includes(userData._id)) {\r\n        return array.push(user._id);\r\n      }\r\n    });\r\n    array.sort(() => 0.5 - Math.random());\r\n    if (window.innerHeight > 780) {\r\n      array.length = 5;\r\n    } else if (window.innerHeight > 720) {\r\n      array.length = 4;\r\n    } else if (window.innerHeight > 610) {\r\n      array.length = 3;\r\n    } else if (window.innerHeight > 540) {\r\n      array.length = 1;\r\n    } else {\r\n      array.length = 0;\r\n    }\r\n    setFriendsHint(array);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (playOnce && !isEmpty(usersData[0]) && !isEmpty(userData._id)) {\r\n      notFiendList();\r\n      setIsloading(false);\r\n      setPlayOnce(false);\r\n    }\r\n  }, [usersData, userData]);\r\n\r\n  return (\r\n    <div className=\"get-friends-container\">\r\n      <h4>Suggestions d'amis</h4>\r\n      {isLoading ? (\r\n        <div className=\"icon\">\r\n          <i className=\"fas fa-spinner fa-pulse\"></i>\r\n        </div>\r\n      ) : (\r\n        <ul>\r\n          {friendsHint &&\r\n            friendsHint.map((user) => {\r\n              for (let i = 0; i < usersData.length; i++) {\r\n                if (user === usersData[i]._id) {\r\n                  return (\r\n                    <li className=\"user-hint\" key={user}>\r\n                      <img src={usersData[i].picture} alt=\"user-pic\" />\r\n                      <p>{usersData[i].pseudo}</p>\r\n                      <FollowHandler\r\n                        idToFollow={usersData[i]._id}\r\n                        type=\"suggestion\"\r\n                      />\r\n                    </li>\r\n                  );\r\n                }\r\n              }\r\n            })}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendsHint;\r\n","import React, { useContext } from \"react\";\r\nimport { UidContext } from \"../components/AppContext\";\r\nimport LeftNav from \"../components/LeftNav\";\r\nimport NewPostForm from \"../components/Post/NewPostForm\";\r\nimport Thread from \"../components/Thread\";\r\nimport Log from \"../components/log\";\r\nimport Trends from \"../components/Trends\";\r\nimport FriendsHint from \"../components/FriendsHint\";\r\n\r\nconst Home = () => {\r\n  const uid = useContext(UidContext);\r\n  return (\r\n    <div className=\"home\">\r\n      <LeftNav />\r\n      <div className=\"main\">\r\n        <div className=\"home-header\">\r\n          {uid ? <NewPostForm /> : <Log signin={true} signup={false} />}\r\n        </div>\r\n        <Thread />\r\n      </div>\r\n      <div className=\"right-side\">\r\n        <div className=\"right-side-container\">\r\n          <div className=\"wrapper\">\r\n            <Trends />\r\n            {uid && <FriendsHint />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { uploadPicture } from \"../../redux/actions/user.actions\";\r\n\r\nconst UploadImg = () => {\r\n  const [file, setfile] = useState();\r\n  const dispatch = useDispatch();\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  const handleChange = (e) => {\r\n    let value = e.target.files[0];\r\n    setfile(value);\r\n  };\r\n\r\n  const handlePicture = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData();\r\n    data.append(\"name\", userData.pseudo);\r\n    data.append(\"userId\", userData._id);\r\n    data.append(\"file\", file);\r\n    dispatch(uploadPicture(data, userData._id));\r\n  };\r\n  return (\r\n    <div>\r\n      <form action=\"\" className=\"upload-pic\" onSubmit={handlePicture}>\r\n        <label htmlFor=\"file\">Changer l'image de profil</label>\r\n        <input\r\n          type=\"file\"\r\n          name=\"file\"\r\n          id=\"file\"\r\n          accept=\".jpg,.jpeg,.png\"\r\n          onChange={handleChange}\r\n        />\r\n        <br />\r\n        <input type=\"submit\" value=\"Envoyer\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadImg;\r\n","import React, { useState } from \"react\";\r\nimport LeftNav from \"../LeftNav\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport UploadImg from \"./UploadImg\";\r\nimport { updateBio } from \"../../redux/actions/user.actions\";\r\nimport { dateParser } from \"../Utils\";\r\nimport FollowHandler from \"./FollowHandler\";\r\n\r\nconst ProfileUpdate = () => {\r\n  const [bio, setBio] = useState();\r\n  const [updateBioArea, setUpdateBioArea] = useState(false);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const dispatch = useDispatch();\r\n  const handleUpdate = (e) => {\r\n    dispatch(updateBio(userData._id, bio));\r\n    setUpdateBioArea(false);\r\n  };\r\n  const [followingPopup, setFollowingPopup] = useState(false);\r\n  const [followersPopup, setFollowersPopup] = useState(false);\r\n\r\n  return (\r\n    <div className=\"profil-container\">\r\n      <LeftNav />\r\n      <h1>Profil de {userData.pseudo}</h1>\r\n      <div className=\"update-container\">\r\n        <div className=\"left-part\">\r\n          <h3>Photo de profil</h3>\r\n          <img src={userData.picture} alt=\"user-logo\" />\r\n          <UploadImg />\r\n        </div>\r\n        <div className=\"right-part\">\r\n          <div className=\"bio-update\">\r\n            <h3>Bio</h3>\r\n            {updateBioArea === false && (\r\n              <>\r\n                <p onClick={() => setUpdateBioArea(!updateBioArea)}>\r\n                  {userData.bio}\r\n                </p>\r\n                <button onClick={() => setUpdateBioArea(!updateBioArea)}>\r\n                  Modifier bio\r\n                </button>\r\n              </>\r\n            )}\r\n            {updateBioArea && (\r\n              <>\r\n                <textarea\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  defaultValue={userData.bio}\r\n                  onChange={(e) => setBio(e.target.value)}\r\n                ></textarea>\r\n                <button onClick={handleUpdate}>\r\n                  Valider les modifications\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n          <h4>Membre depuis le : {dateParser(userData.createdAt)} </h4>\r\n          <h5 onClick={() => setFollowingPopup(true)}>\r\n            Abonnement : {userData.following ? userData.following.length : null}\r\n          </h5>\r\n          <h5 onClick={() => setFollowersPopup(true)}>\r\n            Abonnés : {userData.followers ? userData.followers.length : null}\r\n          </h5>\r\n        </div>\r\n      </div>\r\n      {followingPopup && (\r\n        <div className=\"popup-profil-container\">\r\n          <div className=\"modal\">\r\n            <h3>Abonnements</h3>\r\n            <span className=\"cross\" onClick={() => setFollowingPopup(false)}>\r\n              &#10005;\r\n            </span>\r\n            <ul>\r\n              {usersData.map((user) => {\r\n                for (let i = 0; i < userData.following.length; i++) {\r\n                  if (user._id === userData.following[i]) {\r\n                    return (\r\n                      <li key={user._id}>\r\n                        <img src={user.picture} alt=\"user_pic\" />\r\n                        <h4>{user.pseudo}</h4>\r\n                        <FollowHandler\r\n                          idToFollow={user._id}\r\n                          type=\"suggestion\"\r\n                        />\r\n                      </li>\r\n                    );\r\n                  }\r\n                }\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {followersPopup && (\r\n        <div className=\"popup-profil-container\">\r\n          <div className=\"modal\">\r\n            <h3>Abonnés</h3>\r\n            <span className=\"cross\" onClick={() => setFollowersPopup(false)}>\r\n              &#10005;\r\n            </span>\r\n            <ul>\r\n              {usersData.map((user) => {\r\n                for (let i = 0; i < userData.followers.length; i++) {\r\n                  if (user._id === userData.followers[i]) {\r\n                    return (\r\n                      <li key={user._id}>\r\n                        <img src={user.picture} alt=\"user_pic\" />\r\n                        <h4>{user.pseudo}</h4>\r\n                        <FollowHandler\r\n                          idToFollow={user._id}\r\n                          type=\"suggestion\"\r\n                        />\r\n                      </li>\r\n                    );\r\n                  }\r\n                }\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileUpdate;\r\n","import React, { useContext } from \"react\";\r\nimport Log from \"../components/log\";\r\nimport { UidContext } from \"../components/AppContext\";\r\nimport ProfileUpdate from \"../components/Profile/ProfileUpdate\";\r\n\r\nconst Profil = () => {\r\n  const uid = useContext(UidContext);\r\n\r\n  return (\r\n    <div className=\"profil-page\">\r\n      {uid ? (\r\n        <div>\r\n          <ProfileUpdate />\r\n        </div>\r\n      ) : (\r\n        <div className=\"log-container\">\r\n          <Log signIn={false} signUp={true} />\r\n          <div className=\"img-container\">\r\n            <img src=\"./img/log.svg\" alt=\"img-log\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profil;\r\n","import React, { useContext } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { UidContext } from \"../components/AppContext\";\r\nimport FriendsHint from \"../components/FriendsHint\";\r\nimport LeftNav from \"../components/LeftNav\";\r\nimport Cards from \"../components/Post/Cards\";\r\nimport Trends from \"../components/Trends\";\r\nimport { isEmpty } from \"../components/Utils\";\r\n\r\nconst Trending = () => {\r\n  const uid = useContext(UidContext);\r\n  const trendList = useSelector((state) => state.trendingReducer);\r\n\r\n  return (\r\n    <div className=\"trending-page\">\r\n      <LeftNav />\r\n      <div className=\"main\">\r\n        <ul>\r\n          {!isEmpty(trendList[0]) &&\r\n            trendList.map((post) => <Cards post={post} key={post._id} />)}\r\n        </ul>\r\n      </div>\r\n      <div className=\"right-side\">\r\n        <div className=\"right-side-container\">\r\n          <Trends />\r\n          {uid && <FriendsHint />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trending;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport cookie from \"js-cookie\";\r\n\r\nconst Logout = () => {\r\n  const removeCookie = (key) => {\r\n    if (window === \"undefined\") {\r\n      cookie.remove(key, { expires: 1 });\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    await axios({\r\n      method: \"GET\",\r\n      url: `${process.env.REACT_APP_API_URL}/api/user/logout`,\r\n      withCredentials: true,\r\n    })\r\n      .then(() => removeCookie(\"jwt\"))\r\n      .catch((err) => console.log(err));\r\n    window.location = \"/\";\r\n  };\r\n\r\n  return (\r\n    <li onClick={logout}>\r\n      <img src=\"./img/icons/logout.svg\" alt=\"logout-icon\" />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React, { useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UidContext } from \"./AppContext\";\r\nimport Logout from \"./log/Logout\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Navbar = () => {\r\n  const uid = useContext(UidContext);\r\n  const userData = useSelector((state) => state.userReducer);\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-container\">\r\n        <div className=\"logo\">\r\n          <NavLink exact to=\"/\">\r\n            <div className=\"logo\">\r\n              <img src=\"./img/icon.png\" alt=\"home-logo\" />\r\n              <h3>Kiwi-Project</h3>\r\n            </div>\r\n          </NavLink>\r\n        </div>\r\n        {uid ? (\r\n          <ul>\r\n            <li></li>\r\n            <li className=\"welcome\">\r\n              <NavLink exact to=\"/profil\">\r\n                <h5>{`Bienvenue ${userData.pseudo}`} </h5>\r\n              </NavLink>\r\n            </li>\r\n\r\n            <Logout />\r\n          </ul>\r\n        ) : (\r\n          <ul>\r\n            <li></li>\r\n            <li>\r\n              <NavLink exact to=\"/profil\">\r\n                <img src=\"./img/icons/login.svg\" alt=\"login-logo\" />\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport Home from \"../../pages/Home\";\r\nimport Profile from \"../../pages/Profil\";\r\nimport Trending from \"../../pages/Trending\";\r\nimport Navbar from \"../Navbar\";\r\n\r\nconst index = () => {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/profil\" exact component={Profile} />\r\n          <Route path=\"/trending\" exact component={Trending} />\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default index;\r\n","import Routes from \"./components/Routes\";\nimport { UidContext } from \"./components/AppContext\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { getUser } from \"./redux/actions/user.actions\";\n//import './App.css';\n\nfunction App() {\n  const [uid, setUid] = useState(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      await axios({\n        method: \"get\",\n        url: `${process.env.REACT_APP_API_URL}/jwtid`,\n        withCredentials: true,\n      })\n        .then((res) => {\n          setUid(res.data);\n        })\n        .catch((err) => console.log(\"no token\"));\n    };\n    fetchToken();\n    if (uid) {\n      dispatch(getUser(uid));\n    }\n  }, [uid, dispatch]);\n\n  return (\n    <UidContext.Provider value={uid}>\n      <Routes />\n    </UidContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  FOLLOW_USER,\r\n  GET_USER,\r\n  UNFOLLOW_USER,\r\n  UPDATE_BIO,\r\n  UPLOAD_PICTURE,\r\n} from \"../actions/user.actions\";\r\nconst initialState = {};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      return action.payload;\r\n\r\n    case UPLOAD_PICTURE:\r\n      return {\r\n        ...state,\r\n        picture: action.payload,\r\n      };\r\n\r\n    case UPDATE_BIO:\r\n      return {\r\n        ...state,\r\n        bio: action.payload,\r\n      };\r\n    case FOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: [...state.following, action.payload.idToFollow],\r\n      };\r\n\r\n    case UNFOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: state.following.filter(\r\n          (id) => id !== action.payload.idToUnFollow\r\n        ),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const GET_USERS = \"GET_USERS\";\r\n\r\nexport const getUsers = () => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`${process.env.REACT_APP_API_URL}/api/user`)\r\n      .then((res) => {\r\n        dispatch({ type: GET_USERS, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n","import { GET_USERS } from \"../actions/users.action\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function usersReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USERS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  DELETE_COMMENT,\r\n  DELETE_POST,\r\n  EDIT_COMMENT,\r\n  GET_POST,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  UPDATE_POST,\r\n} from \"../actions/post.action\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function postReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POST:\r\n      return action.payload;\r\n    case LIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            likers: [action.payload.userId, ...post.likers],\r\n          };\r\n        }\r\n        return post;\r\n      });\r\n    case UNLIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            likers: post.likers.filter((id) => id !== action.payload.userId),\r\n          };\r\n        }\r\n        return post;\r\n      });\r\n\r\n    case UPDATE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            message: action.payload.message,\r\n          };\r\n        } else {\r\n          return post;\r\n        }\r\n      });\r\n    case DELETE_POST:\r\n      return state.filter((post) => post._id !== action.payload.postId);\r\n\r\n    case EDIT_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.map((comment) => {\r\n              if (comment._id === action.payload.commentId) {\r\n                return { ...comment, text: action.payload.text };\r\n              } else return comment;\r\n            }),\r\n          };\r\n        } else return post;\r\n      });\r\n\r\n    case DELETE_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.filter(\r\n              (comment) => comment._id !== action.payload.commentId\r\n            ),\r\n          };\r\n        } else return post;\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ALL_POST } from \"../actions/post.action\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function allPostsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ALL_POST:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_TRENDS } from \"../actions/post.action\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function trendingReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_TRENDS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_POST_ERRORS } from \"../actions/post.action\";\r\n\r\nconst initialState = { postErrors: [] };\r\n\r\nexport default function errorsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POST_ERRORS:\r\n      return {\r\n        postErrors: action.payload,\r\n        userErrors: [],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./user.reducer\";\r\nimport usersReducer from \"./users.reducer\";\r\nimport postReducer from \"./post.reducer\";\r\nimport allPostsReducer from \"./allPost.reducer\";\r\nimport trendingReducer from \"./trending.reducer\";\r\nimport errorsReducer from \"./errors.reducer\";\r\n\r\nexport default combineReducers({\r\n  userReducer,\r\n  usersReducer,\r\n  postReducer,\r\n  allPostsReducer,\r\n  trendingReducer,\r\n  errorsReducer,\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./redux/reducers\";\nimport { getUsers } from \"./redux/actions/users.action\";\nimport { getPost } from \"./redux/actions/post.action\";\n\n// dev Tools\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPost());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}